---
---
<!-- _layouts/bib.html -->
<div class="row">
  <div id="{{entry.key}}" class="col-sm-12">
    {% if entry.type == "thesis" %}
      {{reference}}
    {% else %}
      <!-- Title -->
      <div class="title">{{entry.title}}</div>
      <!-- Author -->
      <div class="author">
        {% for author in entry.author_array %}
          {% assign author_is_self = false %}
          {% if author.last == site.scholar.last_name %}
            {% if site.scholar.first_name contains author.first %}
              {% assign author_is_self = true %}
            {% endif %}
          {% endif %}

          {% if forloop.length == 1 %}
            {% if author_is_self %}
              <em>{{author.first}} {{author.last}}</em>
            {% else %}
              {{author.first}} {{author.last}}
            {% endif %}
          {% else %}
            {% unless forloop.last %}
              {% if author_is_self %}
                <em>{{author.first}} {{author.last}}</em>,
              {% else %}
                {{author.first}} {{author.last}},
              {% endif %}
            {% else %}
              {% if author_is_self %}
                and <em>{{author.first}} {{author.last}}</em>
              {% else %}
                and {{author.first}} {{author.last}}
              {% endif %}
            {% endunless %}
          {% endif %}

        {% endfor %}
      </div>

      <!-- Journal/Book title and data -->
      {% if entry.type == "article" %}
        {% capture entrytype %}<em>{{entry.journal}},</em>{% endcapture %}
      {% elsif entry.type == "electronic" %}
        {% if entry.howpublished %}
          {% capture entrytype %}<em>{{entry.howpublished}}</em>{% endcapture %}
        {% endif %}
      {% elsif entry.type == "inproceedings" %}
        {% capture entrytype %}In <em>{{entry.booktitle}},</em>{% endcapture %}
      {% elsif entry.type == "incollection" %}
        {% capture entrytype %}In <em>{{entry.booktitle}}</em>, {{entry.editor}} (eds), {{entry.publisher}},{% endcapture %}
      {% endif %}
      {% if entry.year %}
        {% capture entryyear %}{{entry.year}},{% endcapture %}
      {% endif %}
      {% if entry.volume %}
        {% capture entryvol %}vol. {{entry.volume}},{% endcapture %}
      {% endif %}
      {% if entry.number %}
        {% capture entryno %}no. {{entry.number}}{% if entry.pages %},{% else %}.{% endif %}{% endcapture %}
      {% endif %}
      {% if entry.pages %}
        {% capture entrypp %}pp. {{entry.pages}}.{% endcapture %}
      {% endif %}
      {%- capture periodical -%}{{ entrytype }} {{ entrymonth }} {{ entryyear }} {{ entryvol}} {{ entryno }} {{ entrypp }}{%- endcapture -%}
      <div class="periodical">
        {{ periodical | strip }}
      </div>
    {% endif %}

    <div class="links">
      {% if entry.abstract %}
        <a class="abstract btn btn-sm z-depth-0 mr-0" role="button">abstract</a>
      {% endif %}
      {% if entry.doi %}
        <a href="http://doi.org/{{ entry.doi }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">doi</a>
      {% endif %}
      {% if entry.arxiv %}
        <a href="http://arxiv.org/abs/{{ entry.arxiv }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">arXiv</a>
      {% endif %}
      {% if entry.url %}
        <a href="{{ entry.url }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">html</a>
      {% endif %}
      {% if entry.pdf %}
        <a href="{{ entry.pdf | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank">pdf</a>
      {% endif %}
      {% if entry.supp %}
        <a href="{{ entry.supp | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank">supp</a>
      {% endif %}
      {% if entry.poster %}
        <a href="{{ entry.poster | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank">poster</a>
      {% endif %}
      {% if entry.slides %}
        <a href="{{ entry.slides | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank">slides</a>
      {% endif %}
      {% if entry.code %}
        <a href="{{ entry.code }}" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">code</a>
      {% endif %}
    </div>

    <!-- Hidden abstract block -->
    {% if entry.abstract %}
    <div class="abstract hidden">
      <p>{{ entry.abstract }}</p>
    </div>
    {% endif %}
  </div>
</div>
