<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>3D Orientation Estimation | Beth Jelfs</title> <meta name="author" content="Beth Jelfs"> <meta name="description" content="Image gradients and directional statistics for determining fibre alignment"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?581358d64999829ebdbc91ba41a3b40b"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://beteje.github.io/research/orientation/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://beteje.github.io/"><span class="font-weight-bold">Beth </span>Jelfs</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/news/">News</a> </li> <li class="nav-item active"> <a class="nav-link" href="/research/">Research<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">3D Orientation Estimation</h1> <p class="post-description">Image gradients and directional statistics for determining fibre alignment</p> </header> <article> <p>We have developed an efficient, parallelisable computational method to determine 3D orientations at a local level. Quantifying the orientation and alignment of cells and fibres in 3D is of growing interest. Tissue function is affected by this alignment and with increases in the development and use of 3D scaffolds in bioengineering there is a need to be able determine their performance.</p> <p>The algorithm performs the following steps <a class="citation" href="#Jelfs2020">[1]</a></p> <ul> <li>Computes the image intensity gradients</li> <li>Classifies the vectors into spherical and non-spherical using circularity testing</li> <li>Computes the local orientation vectors for the identified non-spherical vectors</li> <li>Assesses the distribution of the estimated local orientations over the whole volume</li> </ul> <hr> <h3 id="image-intensity-gradients">Image Intensity Gradients</h3> <div class="row align-items-top justify-content-center"> <div class="col-sm-4 mt-3 mt-md-1"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/GradientVector-480.webp 480w, /assets/img/GradientVector-800.webp 800w, /assets/img/GradientVector-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/GradientVector.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Gradient Vector Diagram" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Gradient vector diagram.</figcaption> </figure> </div> <div class="col-sm-8 mt-3 mt-md-0">Differentials of the volumetric images in each dimension \(i\) are obtained via convolution $$G_i(x,y,z) = I(x,y,z)\ast h_i(x,y,z)$$ where \(h_i\) is a Gaussian derivative filter to form a 3D vector field \(\vec{G}(x,y,z)\). <ul> <li>The magnitude of \(\vec{G}\) is large at object boundaries</li> <li>The direction is normal to its local orientation</li> </ul> Therefore estimating local orientation requires estimating normal vectors to \(\vec{G}\)</div> </div> <div class="row align-items-center justify-content-center"> <div class="col-sm-8 mt-3 mt-md-0">The girdle distribution models data points in spherical polar coordinates concentrated on a great circle. The distribution is characterised by: <ul> <li>Concentration of points around the circle</li> <li>Orientation of the polar axis</li> </ul> Estimating the local orientation then becomes that of determining the polar axis.</div> <div class="col-sm-4 mt-3 my-md-1"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/GirdleDistribution-480.webp 480w, /assets/img/GirdleDistribution-800.webp 800w, /assets/img/GirdleDistribution-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/GirdleDistribution.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Girdle Distribution" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Girdle distribution.</figcaption> </figure> </div> </div> <p>Our solution adapts a maximum-likelihood estimator from spherical statistics to estimate the polar axis using a local region of \(\vec{G}(x,y,z)\) rather than spherical data by:</p> <ol> <li>Calculating an estimator for a uniform grid of axis angles</li> <li>Choosing a pair of axis angles that minimise the estimator</li> </ol> <p>This method is efficient to computer, can perform the per voxel polar axis estimation in parallel and allows for a customisable search space based on the size of the grid.</p> <hr> <h3 id="complex-statistics">Complex Statistics</h3> <div class="row align-items-center justify-content-center"> <div class="col-sm-6 mt-3 mt-md-0"> <p>Having obtained a local orientation we need to determine whether the estimate is meaningful, if the local image vectors are spherical then a local orientation angle is meaningless.</p> <p>Many tests for sphericity are tailored to a particular statistical distribution or are computationally intensive. Our solution is to project the data into the 3 coordinate planes and then test for circularity. </p> <ul><li>Data which is non-circular in one or more plane is non-spherical</li></ul> But we also need to consider not only the distribution of the angles but also the magnitude <ul> <li>Considering only the angles does not give all of the information <ul><li>Non-spherical data can be uniformly distributed across all angles</li></ul> </li> <li>Using both angle and magnitude shows shows differences in the distributions</li> </ul> Our approach uses statistics of complex numbers to determine the circularity which takes into account both angle and magnitude and is efficient to compute. </div> <div class="col-sm-6 mt-3 mt-md-0"> <div class="row align-items-center justify-content-center"> <div class="col-sm-6 mt-3 mt-md-1"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/Spherical-480.webp 480w, /assets/img/Spherical-800.webp 800w, /assets/img/Spherical-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/Spherical.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" title="Spherical Data" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Spherical data point cloud.</figcaption> </figure> </div> <div class="col-sm-6 mt-3 mt-md-1"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/NonSpherical-480.webp 480w, /assets/img/NonSpherical-800.webp 800w, /assets/img/NonSpherical-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/NonSpherical.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Non-Spherical Data" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Non-spherical data point cloud.</figcaption> </figure> </div> </div> <div class="row align-items-center justify-content-center"> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/xy_angle-480.webp 480w, /assets/img/xy_angle-800.webp 800w, /assets/img/xy_angle-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/xy_angle.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="xy Plane Angles" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((x,y)\)-plane.</figcaption> </figure> </div> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/xz_angle-480.webp 480w, /assets/img/xz_angle-800.webp 800w, /assets/img/xz_angle-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/xz_angle.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="xz Plane Angles" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((x,z)\)-plane.</figcaption> </figure> </div> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/yz_angle-480.webp 480w, /assets/img/yz_angle-800.webp 800w, /assets/img/yz_angle-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/yz_angle.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="yz Plane Angles" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((y,z)\)-plane.</figcaption> </figure> </div> </div> <div class="caption mt-0 mb-3"> Non-spherical data projected onto the unit circle. </div> <div class="row align-items-center justify-content-center"> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/xy_Dis-480.webp 480w, /assets/img/xy_Dis-800.webp 800w, /assets/img/xy_Dis-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/xy_Dis.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="xy Distribution" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((x,y)\)-plane.</figcaption> </figure> </div> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/xz_Dis-480.webp 480w, /assets/img/xz_Dis-800.webp 800w, /assets/img/xz_Dis-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/xz_Dis.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="xz Distribution" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((x,z)\)-plane.</figcaption> </figure> </div> <div class="col-sm-4 mb-0 mt-3"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/yz_Dis-480.webp 480w, /assets/img/yz_Dis-800.webp 800w, /assets/img/yz_Dis-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/yz_Dis.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="yz Distribution" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">\((y,z)\)-plane.</figcaption> </figure> </div> </div> <div class="caption mt-0 mb-3"> Non-spherical data point cloud. </div> </div> </div> <hr> <h3 id="simulated-fibres">Simulated Fibres</h3> <div class="row align-items-center"> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/range_orig-480.webp 480w, /assets/img/range_orig-800.webp 800w, /assets/img/range_orig-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/range_orig.gif" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Original Range of Angles" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">The original fibres.</figcaption> </figure> </div> <div class="col-sm-2 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/ColourWheel-480.webp 480w, /assets/img/ColourWheel-800.webp 800w, /assets/img/ColourWheel-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/ColourWheel.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Colour Wheel" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Colour key for the different angles.</figcaption> </figure> </div> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/range_results30-480.webp 480w, /assets/img/range_results30-800.webp 800w, /assets/img/range_results30-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/range_results30.gif" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Results Range of Angles" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Estimated fibres from noisy data with PSNR = 30dB.</figcaption> </figure> </div> </div> <div class="caption mt-0 mb-3"> Fibres with a range of elevation angles between 70° and 100° and azimuth angles between 90° and 120°. </div> <hr> <h3 id="fibrous-scaffold-data">Fibrous Scaffold Data</h3> <div class="row align-items-center"> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/scaffold1-480.webp 480w, /assets/img/scaffold1-800.webp 800w, /assets/img/scaffold1-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/scaffold1.gif" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Random Scaffold Data" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Random structures.</figcaption> </figure> </div> <div class="col-sm-2 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/ColourWheel-480.webp 480w, /assets/img/ColourWheel-800.webp 800w, /assets/img/ColourWheel-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/ColourWheel.png" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Colour Wheel" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Colour key for the different angles.</figcaption> </figure> </div> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset=" /assets/img/scaffold3-480.webp 480w, /assets/img/scaffold3-800.webp 800w, /assets/img/scaffold3-1400.webp 1400w, " sizes="95vw" type="image/webp"></source> <img src="/assets/img/scaffold3.gif" class="img-fluid rounded z-depth-1 p-2" width="100%" height="auto" alt="" title="Aligned Scaffold Data" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption class="caption">Aligned structures.</figcaption> </figure> </div> </div> <div class="caption mt-0 mb-3"> Estimated fibres from real fibrous scaffold data (<a href="https://figshare.com/articles/Quanfima_Datasets/7096208" target="_blank" rel="noopener">datasets available here</a>). </div> <hr> <h3 id="assessing-distribution-of-local-orientations">Assessing Distribution of Local Orientations</h3> <p>To assess the distribution of the local orientation angles across the whole volume the local orientation angles are converted to a set of unit vectors. The assessment of their distribution comprises of four measures:</p> <ul> <li>The three non-circularity measures in each of the planes <ul> <li>These quantify the sphericity of the overall distribution</li> </ul> </li> <li>The spherical mean resultant length \(\bar{R} = \lvert\frac{1}{N}\sum_n\vec{v}_n\rvert\) <ul> <li>This quantifies the concentration of the vectors \(\bar{R}\approx 0\) indicates the vectors are widely dispersed whereas \(\bar{R}\approx 1\) indicates the vectors are heavily concentrated.</li> </ul> </li> </ul> <div class="row justify-content-center"> <div class="col-sm-10 mt-3 mt-md0 table-responsive"><table table-sm="" table-borderless="" class="project-table"> <tr> <th style="text-align:left;">Datasets</th> <th>Elevation Angles</th> <th>Azimuth Angles</th> <th>\(\ell_{XY}\)</th> <th>\(\ell_{YZ}\)</th> <th>\(\ell_{XZ}\)</th> <th>\(\bar{R}\)</th> </tr> <tr> <td style="text-align:left;">Single</td> <td>30°--35°</td> <td>70°--75°</td> <td>0.83</td> <td>0.94</td> <td>0.94</td> <td>0.96</td> </tr> <tr> <td style="text-align:left;">Double</td> <td>30°--35° &amp; 110°--115°</td> <td>70°--75° &amp; 150°--155°</td> <td>0.80</td> <td>0.80</td> <td>0.50</td> <td>0.35</td> </tr> <tr> <td style="text-align:left;">Range</td> <td>70°--100°</td> <td>90°--120°</td> <td>0.64</td> <td>0.80</td> <td>0.51</td> <td>0.89</td> </tr> <tr> <td style="text-align:left;">Random</td> <td>0°--180°</td> <td>0°--180°</td> <td>0.64</td> <td>0.80</td> <td>0.51</td> <td>0.03</td> </tr> <tr class="darker"> <td style="text-align:left;">Random Scaffold Data</td> <td>--</td> <td>--</td> <td>0.31</td> <td>0.34</td> <td>0.72</td> <td>0.36</td> </tr> <tr class="darker"> <td style="text-align:left;">Aligned Scaffold Data</td> <td>--</td> <td>--</td> <td>0.73</td> <td>0.57</td> <td>0.07</td> <td>0.89</td> </tr> </table></div> </div> <div class="caption text-left"> Assessment of the distributions of the local orientations. \(\ell\) = degree of non-circularity \(\bar{R}\) = spherical mean resultant length. All simulations had a PSNR of 30dB. </div> <hr> <h3 id="code">Code</h3> <p>Orientation estimation code can be found here: <a href="https://github.com/beteje/Orientation" target="_blank" rel="noopener">Orientation</a></p> <hr> <h3 id="references">References</h3> <div class="references"> <ol class="bibliography"><li> <div class="row"> <div id="Jelfs2020" class="col-sm-12"> <div class="title">Application of Image Processing and Circular Statistics to 3D Cellular Alignment</div> <div class="author"> <em>B. Jelfs</em>, and C. Gilliam </div> <div class="periodical"> In <em>Proc. Asia-Pacific Signal and Information Processing Association Annual Summit and Conference,</em> 2020, pp. 992–1000. </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0 mr-0" role="button">abstract</a> <a href="https://ieeexplore.ieee.org/document/9306340" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">html</a> <a href="/assets/pdf/2020_APSIPA.pdf" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank">pdf</a> <a href="https://github.com/beteje/Orientation" class="btn btn-sm z-depth-0 mr-0" role="button" target="_blank" rel="noopener">code</a> </div> <div class="abstract hidden"> <p>Alignment and orientation of cells play an important part in the function of biological tissue. Recent developments in bioengineering using 3D scaffolds have created an increased need for computational techniques to measure orientation which extend beyond 2D measures to produce 3D measures of orientation. Initial studies of 3D alignment have focused on determining individual orientations, however, to truly understand the impact these structures have on the cellular alignment we need to understand the overall distribution of the orientations and their statistics. Hence, in this paper we develop an approach for determining 3D cellular alignment based on image gradients and directional statistics. The intensity gradients of the volumetric image are used to construct a 3D vector field and the local dominant orientations of this vector field then determined.</p> </div> </div> </div> </li></ol> </div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Beth Jelfs. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?c15227096669a5b10a9e60f3f87cd6a9"></script> <script defer src="/assets/js/copy_code.js?9b43d6e67ddc7c0855b1478ee4c48c2d" type="text/javascript"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>